openapi: 3.0.2
servers:
  - description: project_review localhost API document
    url: 'http://localhost:8000'
  - description: project_review AWS RDS Test API document
    url: 'http://15.164.86.242:8005'
info:
  version: 1.0.0
  title: project_review-API
  description: The API for project_review
  contact:
    name: Inchan Song
    url: 'https://github.com/inchanS'
    email: song@inchan.dev
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
paths:
  /users/signup:
    post:
      tags:
        - User
      summary: 회원가입
      description: 회원가입
      produces:
        - application/json
      requestBody:
        description: 회원가입시 필요한 사용자 정보 객체
        required: true
        content:
          application/json:
            schema:
              $ref: '#/paths/~1users~1signup/components/schemas/User'
      responses:
        '201':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1signup/components/schemas/Success'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1signup/components/schemas/Error'
    components:
      schemas:
        User:
          type: object
          properties:
            nickname:
              type: string
              description: |
                사용자의 닉네임입니다.
                중복되지 않아야 합니다. (중복검사 사용 추천)
              example: 블랙팬서
            email:
              type: string
              description: |
                사용자의 이메일입니다.  
                중복되지 않아야 합니다. (중복검사 사용 추천)
              example: black@test.com
            password:
              type: string
              description: |
                사용자의 비밀번호입니다.  
                비밀번호는 **8자 이상 20자 이하**로 설정해야 합니다.  
                비밀번호는 영문이어야 하며 **소문자, 대문자, 숫자, 특수문자**를 모두 포함해야 합니다.  
                비밀번호는 공백을 포함할 수 없습니다.
              example: Abcd@1234
        Success:
          type: object
          properties:
            message:
              type: string
              description: 회원가입 성공 메세지
              example: SIGNUP_SUCCESS
        Error:
          type: object
          properties:
            message:
              type: string
              description: 가입 실패시 메세지
              example: (THIS_EMAIL)_IS_MAIL_THAT_ALREADY_EXSITS
  /users/checknickname:
    get:
      tags:
        - User
      summary: 회원가입시 닉네임 중복체크
      description: 회원가입시 닉네임 중복체크
      produces:
        - application/json
      parameters:
        - name: nickname
          in: query
          description: 중복체크할 닉네임
          required: true
          type: string
          example: 'http://localhost:8000/users/checknickname?nickname=블랙팬서'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1checknickname/components/schemas/Success'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1checknickname/components/schemas/Error'
    components:
      schemas:
        Success:
          type: object
          properties:
            message:
              type: string
              description: 닉네임 중복체크 성공 메세지
              example: AVAILABLE_NICKNAME
        Error:
          type: object
          properties:
            message:
              type: string
              description: 닉네임 중복체크 실패 메세지
              example: (THIS_EMAIL)_IS_NICKNAME_THAT_ALREADY_EXSITS
  /users/checkemail:
    get:
      tags:
        - User
      summary: 회원가입시 이메일 중복체크
      description: 회원가입시 이메일 중복체크
      produces:
        - application/json
      parameters:
        - name: email
          in: query
          description: 중복체크할 이메일
          required: true
          type: string
          example: 'http://localhost:8000/users/checkemail?email=test123'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1checkemail/components/schemas/Success'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1checkemail/components/schemas/Error'
    components:
      schemas:
        Success:
          type: object
          properties:
            message:
              type: string
              description: 이메일 중복체크 성공 메세지
              example: AVAILABLE_EMAIL
        Error:
          type: object
          properties:
            message:
              type: string
              description: 이메일 중복체크 실패 메세지
              example: (THIS_EMAIL)_IS_EMAIL_THAT_ALREADY_EXSITS
  /users/signin:
    post:
      tags:
        - User
      summary: 회원 로그인
      description: 회원 로그인 관련 API
      produces:
        - application/json
      requestBody:
        description: 회원 로그인시 필요한 사용자 정보 객체
        required: true
        content:
          application/json:
            schema:
              $ref: '#/paths/~1users~1signin/components/schemas/User'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1signin/components/schemas/Success'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1signin/components/schemas/Error'
    components:
      schemas:
        User:
          type: object
          properties:
            email:
              type: string
              description: The email of the user
              example: black@test.com
            password:
              type: string
              description: The password of the user
              example: Abcd@1234
        Success:
          type: object
          properties:
            message:
              type: string
              description: 로그인 성공 메세지
              example: SIGNIN_SUCCESS
            result:
              type: object
              description: 로그인 성공시 토큰값
              properties:
                token:
                  type: string
                  description: 토큰값
                  example: 'token: ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTYsImlhdCI6MTY3ODEyOTY0OX0.eyNOFEZt5xPSakzy4FyGqub9heSZA5FtOZGtWyTI4vg'''
        Error:
          type: object
          properties:
            message:
              type: string
              description: 로그인 실패시 메세지
              example: (THIS_EMAIL)_IS_NOT_FOUND
  /users/userinfo:
    get:
      tags:
        - User
      summary: 로그인한 유저의 모든 정보 보기
      description: '로그인한 유저의 ID, 가입일, 닉네임, 이메일과 게시글 목록, 댓글 목록을 반환합니다.<br> **토큰을 필요로 합니다.**'
      produces:
        - application/json
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1userinfo/components/schemas/Success'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1userinfo/components/schemas/ErrorInvalidToken'
        '500':
          description: Internal server error
    patch:
      tags:
        - User
      summary: 사용자 정보 수정
      description: |
        사용자 정보를 수정할 수 있는 API입니다.  
        nickname, email, password를 수정할 수 있습니다.  
        nickname, email은 중복되지 않아야 합니다.(중복시 에러 반환)  
        수정하고자 하는 정보는 body에 담아서 보내야 합니다.  
        수정하고자 하는 정보가 일부라면 해당 정보만 보내면 됩니다.
      security:
        - BearerAuth: []
      requestBody:
        description: |
          수정하고자 하는 정보를 담아서 보내야 합니다.  
          수정하고자 하는 정보가 일부라면 해당 정보만 보내면 됩니다.
        content:
          application/json:
            schema:
              type: object
              properties:
                nickname:
                  type: string
                  required: false
                  description: |
                    사용자의 닉네임입니다.  
                    중복되지 않아야 합니다.
                email:
                  type: string
                  required: false
                  description: |
                    사용자의 이메일입니다.  
                    중복되지 않아야 합니다.
                password:
                  type: string
                  required: false
                  description: |
                    사용자의 비밀번호입니다.  
                    비밀번호는 8자 이상 20자 이하로 설정해야 합니다.  
                    비밀번호는 영문이어야 하며 소문자, 대문자, 숫자, 특수문자를 모두 포함해야 합니다.  
                    비밀번호는 공백을 포함할 수 없습니다.
      responses:
        '200':
          description: |
            사용자 정보 수정에 성공했을 때 반환됩니다.  
            수정된 사용자 정보를 반환합니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 성공 메시지입니다.
                    example: UPDATE_USERINFO_SUCCESS
                  result:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 사용자의 고유 id입니다.
                        example: 1
                      created_at:
                        type: string
                        description: 사용자의 생성일입니다.
                        example: 2021-08-01T00:00:00.000Z
                      updated_at:
                        type: string
                        description: 사용자의 수정일입니다.
                        example: 2021-08-01T00:00:00.000Z
                      deleted_at:
                        type: null
                        description: 사용자의 삭제일입니다.
                        example: null
                      nickname:
                        type: string
                        description: 사용자의 닉네임입니다.
                        example: testNickname
                      email:
                        type: string
                        description: 사용자의 이메일입니다.
                        example: test@test.com
        '400':
          description: |
            사용자 정보 수정에 실패했을 때 반환됩니다.  
            비밀번호를 수정하지 않으면서, 닉네임과 이메일의 수정된 내용이 기존 값과 같을 때 반환됩니다.
            에러 메시지를 반환합니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 에러 메시지입니다.
                    example: NO_CHANGE
        '409':
          description: |
            사용자 정보 수정에 실패했을 때 반환됩니다.  
            닉네임 또는 이메일이 중복될 때 반환됩니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    oneOf:
                      - type: string
                        description: 닉네임 중복시 에러 메시지입니다.
                        example: (input)_IS_NICKNAME_THAT_ALREADY_EXSITS
                      - type: string
                        description: 이메일 중복시 에러 메시지입니다.
                        example: (input)_IS_EMAIL_THAT_ALREADY_EXSITS
        '500':
          description: |
            사용자 정보 수정에 실패했을 때 반환됩니다.  
            서버의 에러로 인해 수정에 실패했을 때 에러를 반환합니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 에러 메시지입니다.
                    example: INTERNAL_SERVER_ERROR
    delete:
      tags:
        - User
      summary: 사용자 삭제
      description: |
        사용자를 삭제할 수 있는 API입니다.  
        사용자를 삭제하면 해당 사용자에 대한 다음 정보는 모두 삭제 처리됩니다.  
        - 사용자가 작성한 모든 게시글  
        - 사용자가 작성한 모든 댓글  
        - 사용자가 다른 게시글에 남긴 모든 공감
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 사용자 삭제에 성공했을 때 반환됩니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 성공 메시지입니다.
                    example: DELETE_USER_SUCCESS
        '404':
          description: |
            삭제하고자 하는 사용자를 찾을 수 없을 때, 에러 메시지를 반환합니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 에러 메시지입니다.
                    example: USER_IS_NOT_FOUND
        '500':
          description: |
            사용자 삭제에 실패했을 때 반환됩니다.  
            서버의 에러로 인해 삭제에 실패했을 때 에러를 반환합니다.
    components:
      schemas:
        Success:
          type: object
          properties:
            myInfo:
              type: object
              properties:
                id:
                  type: integer
                  description: 유저의 ID
                  example: 16
                createdAt:
                  type: string
                  description: 유저의 가입일
                  example: '2021-01-01T00:00:00.000Z'
                nickname:
                  type: string
                  description: 유저의 닉네임
                  example: black
                email:
                  type: string
                  description: 유저의 이메일
                  example: black@test.com
            myFeeds:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    description: 게시글의 ID
                    example: 1
                  title:
                    type: string
                    description: 게시글의 제목
                    example: 게시글 제목
                  content:
                    type: string
                    description: 게시글의 내용
                    example: 게시글 내용
                  createdAt:
                    type: string
                    description: 게시글의 작성일
                    example: '2021-01-01T00:00:00.000Z'
                  updatedAt:
                    type: string
                    description: 게시글의 수정일
                    example: '2021-01-01T00:00:00.000Z'
                  userId:
                    type: integer
                    description: 게시글의 작성자 ID
                    example: 16
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 게시글의 작성자 ID
                        example: 16
                      nickname:
                        type: string
                        description: 게시글의 작성자 닉네임
                        example: black
                      email:
                        type: string
                        description: 게시글의 작성자 이메일
                        example: test@test.com
            myComments:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    description: 댓글의 ID
                    example: 1
                  content:
                    type: string
                    description: 댓글의 내용
                    example: 댓글 내용
                  createdAt:
                    type: string
                    description: 댓글의 작성일
                    example: 2021-01-01T00:00:00.000Z
                  updatedAt:
                    type: string
                    description: 댓글의 수정일
                    example: 2021-01-01T00:00:00.000Z
                  userId:
                    type: integer
                    description: 댓글의 작성자 ID
                    example: 16
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 댓글의 작성자 ID
                        example: 16
                      nickname:
                        type: string
                        description: 댓글의 작성자 닉네임
                        example: black
                      email:
                        type: string
                        description: 댓글의 작성자 이메일
                        example: test@test.com
        ErrorInvalidToken:
          type: object
          properties:
            message:
              type: string
              description: 토큰이 유효하지 않을 때 반환되는 에러 메시지
              example: INVALID_TOKEN
  '/users/userinfo/{userId}':
    get:
      tags:
        - User
      summary: 타겟 유저의 정보 보기
      description: '타겟 유저의 ID, 가입일, 닉네임, 이메일과 게시글 목록, 댓글 목록을 반환합니다.<br> **토큰은 없어도 되지만, <BR> 타겟 유저와 로그인 유저간의 관련된 비공개 정보는 볼 수 없습니다.**'
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: userId
          description: 타겟유저의 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1userinfo~1%7BuserId%7D/components/schemas/Success'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/paths/~1users~1userinfo~1%7BuserId%7D/components/schemas/ErrorInvalidToken'
        '500':
          description: Internal server error
    components:
      schemas:
        Success:
          type: object
          properties:
            myInfo:
              type: object
              properties:
                id:
                  type: integer
                  description: 유저의 ID
                  example: 16
                createdAt:
                  type: string
                  description: 유저의 가입일
                  example: '2021-01-01T00:00:00.000Z'
                nickname:
                  type: string
                  description: 유저의 닉네임
                  example: black
                email:
                  type: string
                  description: 유저의 이메일
                  example: black@test.com
            myFeeds:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    description: 게시글의 ID
                    example: 1
                  title:
                    type: string
                    description: 게시글의 제목
                    example: 게시글 제목
                  content:
                    type: string
                    description: 게시글의 내용
                    example: 게시글 내용
                  createdAt:
                    type: string
                    description: 게시글의 작성일
                    example: '2021-01-01T00:00:00.000Z'
                  updatedAt:
                    type: string
                    description: 게시글의 수정일
                    example: '2021-01-01T00:00:00.000Z'
                  userId:
                    type: integer
                    description: 게시글의 작성자 ID
                    example: 16
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 게시글의 작성자 ID
                        example: 16
                      nickname:
                        type: string
                        description: 게시글의 작성자 닉네임
                        example: black
                      email:
                        type: string
                        description: 게시글의 작성자 이메일
                        example: test@test.com
            myComments:
              type: array
              items:
                type: object
                properties:
                  id:
                    type: integer
                    description: 댓글의 ID
                    example: 1
                  content:
                    type: string
                    description: 댓글의 내용
                    example: 댓글 내용
                  createdAt:
                    type: string
                    description: 댓글의 작성일
                    example: 2021-01-01T00:00:00.000Z
                  updatedAt:
                    type: string
                    description: 댓글의 수정일
                    example: 2021-01-01T00:00:00.000Z
                  userId:
                    type: integer
                    description: 댓글의 작성자 ID
                    example: 16
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: 댓글의 작성자 ID
                        example: 16
                      nickname:
                        type: string
                        description: 댓글의 작성자 닉네임
                        example: black
                      email:
                        type: string
                        description: 댓글의 작성자 이메일
                        example: test@test.com
        ErrorInvalidToken:
          type: object
          properties:
            message:
              type: string
              description: 토큰이 유효하지 않을 때 반환되는 에러 메시지
              example: INVALID_TOKEN
  /users/password:
    post:
      tags:
        - User
      summary: 사용자 비밀번호 재설정 요청(메일 보내기)
      description: |
        사용자 비밀번호 재설정 요청(메일 보내기)  
        사용자가 비밀번호를 잊어버렸을 때, 비밀번호 재설정을 위해 이메일을 보내는 API입니다.  
        이메일에는 다음과 같은 링크가 담깁니다.  
         - 비밀번호 재설정 페이지 URL/임시 토큰  

        임시 토큰의 유효시간은 10분입니다.  
        메일은 다음과 같이 보내집니다.
        ----------------------------
        <p>안녕하세요, Review Site입니다.</p>  
          <p>비밀번호를 재설정하려면 아래 링크를 클릭해주세요.</p>  
          <p>링크는 10분 후에 만료됩니다.</p>  
          <a href="${url}">  
            <button style="
              padding: 10px 20px;
              background-color: #676FA3;
              color: #fff;
              border: none;
              border-radius: 4px;
              cursor: pointer;
            ">  
              비밀번호 재설정
            </button>  
          </a>  
          <p>만약 비밀번호 재설정을 요청하지 않으셨다면, 이 메일을 무시하시면 됩니다.</p>  
          <p>감사합니다.</p>
      produces:
        - application/json
      requestBody:
        description: 사용자 비밀번호 재설정 요청(메일 보내기)
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: 사용자 이메일
                  example: test@test.com
                resetPasswordUrl:
                  type: string
                  description: 비밀번호 재설정 페이지 URL
                  example: 'http://localhost:3000/resetpassword'
      responses:
        '200':
          description: 비밀번호 재설정 메일 전송 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: RESET_PASSWORD_SUCCESS_AND_SEND_MAIL
        '404':
          description: 사용자가 존재하지 않음
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: USER_IS_NOT_FOUND
        '500':
          description: Internal server error
  /comments:
    post:
      tags:
        - Comment
      summary: 댓글 작성
      description: |
        댓글 작성 API입니다.  
        댓글 작성시 필요한 정보를 `body`에 담아서 보내주세요.  
        댓글 작성시 `is_private`을 `true`로 설정하면 해당 댓글은 작성자만 볼 수 있습니다.   
        댓글 작성시 `parent`를 설정하면 대댓글로 작성됩니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        description: 댓글 작성시 필요한 정보
        required: true
        content:
          application/json:
            schema:
              $ref: '#/paths/~1comments/components/schemas/CreateComment'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/Success'
        '401':
          description: Invalid token
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorInvalidToken'
        '404':
          description: Feed not found
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorFeedNotFound'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/Error'
    patch:
      tags:
        - Comment
      summary: 댓글 수정
      description: 댓글 수정 API
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        description: 댓글 수정시 필요한 정보
        required: true
        content:
          application/json:
            schema:
              $ref: '#/paths/~1comments/components/schemas/UpdateComment'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/SuccessUpdateComment'
        '401':
          description: Invalid token
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorInvalidTokenWithComment'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorUpdateComment'
    components:
      schemas:
        CreateComment:
          type: object
          properties:
            feed:
              type: integer
              description: 댓글을 작성할 게시글의 ID
              example: 1
            comment:
              type: string
              description: 댓글 내용
              example: 댓글 내용
            is_private:
              type: boolean
              description: 댓글 공개 여부 (미설정시 기본값 false)
              required: false
              example: true
            parent:
              type: integer
              description: 대댓글일 경우 부모 댓글의 ID (미설정시 기본값 null & 원댓글로 등록됩니다.)
              required: false
              example: 1
        Success:
          type: object
          properties:
            message:
              type: string
              description: 댓글 작성 성공시 메세지
              example: THIS_COMMENT_HAS_BEEN_SUCCESSFULLY_CREATED
        Error:
          type: object
          properties:
            message:
              type: object
              description: 댓글 작성 실패시 메세지
              properties:
                isString:
                  type: string
                  description: 댓글 내용이 문자열이 아닐 경우
                  example: comment must be a string
                isNotEmpty:
                  type: string
                  description: 댓글 내용이 비어있을 경우
                  example: comment should not be empty
        ErrorInvalidToken:
          type: object
          properties:
            message:
              type: string
              description: 유효하지 않은 토큰일 경우
              example: INVALID_TOKEN
        UpdateComment:
          type: object
          properties:
            commentId:
              type: integer
              description: 댓글의 ID
              example: 1
            comment:
              type: string
              description: 댓글 내용
              example: 댓글 내용
            is_private:
              type: boolean
              description: 댓글 공개 여부 (기본값 false)
              required: false
              example: true
        SuccessUpdateComment:
          type: object
          properties:
            message:
              type: string
              description: 댓글 수정 성공시 메세지
              example: THIS_COMMENT_HAS_BEEN_SUCCESSFULLY_UPDATED
        ErrorUpdateComment:
          type: object
          oneOf:
            - $ref: '#/paths/~1comments/components/schemas/ErrorCommentNotFound'
            - $ref: '#/paths/~1comments/components/schemas/ErrorCommentNotChanged'
        ErrorCommentNotFound:
          type: object
          properties:
            message:
              type: string
              description: 댓글이 존재하지 않을 경우
              example: ID_217_COMMENT_DOES_NOT_EXIST
        ErrorCommentNotChanged:
          type: object
          properties:
            message:
              type: string
              description: 댓글이 수정내용이 없을 경우
              example: COMMENT_IS_NOT_CHANGED
        ErrorInvalidTokenWithComment:
          type: object
          oneOf:
            - $ref: '#/paths/~1comments/components/schemas/ErrorInvalidToken'
            - $ref: '#/paths/~1comments/components/schemas/ErrorInvalidTokenAndAuth'
        ErrorInvalidTokenAndAuth:
          type: object
          properties:
            message:
              type: string
              description: 댓글 작성자가 아닐 경우
              example: ONLY_THE_AUTHOR_CAN_EDIT
        ErrorFeedNotFound:
          type: object
          properties:
            message:
              type: string
              description: 게시글이 존재하지 않을 경우
              example: COMMENT'S_FEED_VALIDATION_ERROR
  '/comments/{feedId}':
    get:
      tags:
        - Comment
      summary: 댓글 목록 조회
      description: |
        feedId에 해당하는 댓글 목록을 가져옵니다.  
        댓글의 children에는 대댓글이, 대댓글의 children에는 대댓글의 대댓글이 담겨있습니다.  
        비공개 댓글의 경우,    
        1. 해당 댓글의 작성자  
        2. 게시글의 작성자  
        의 경우에만 조회할 수 있습니다.  
          
        비공개 대댓글의 경우,  
        1. 해당 대댓글의 작성자  
        2. 원댓글의 작성자  
        의 경우에만 조회할 수 있으며, 게시글의 작성자는 조회할 수 없습니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: feedId
          description: 게시글의 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments~1%7BfeedId%7D/components/schemas/SuccessGetComment'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorCommentNotFound'
    components:
      schemas:
        SuccessGetComment:
          type: array
          description: 댓글 목록
          items:
            type: object
            properties:
              id:
                type: integer
                description: 댓글의 ID
                example: 1
              createdAt:
                type: string
                description: 댓글 작성 시간
                example: '2021-08-01 00:00:00'
              updatedAt:
                type: string
                description: 댓글 수정 시간
                example: '2021-08-01 00:00:00'
              deletedAt:
                oneOf:
                  - type: null
                    example: null
                  - type: string
                    description: 댓글 삭제 시간
                    example: '2021-08-02 00:00:00'
              user:
                type: object
                description: 댓글 작성자 정보
                properties:
                  id:
                    type: integer
                    description: 댓글 작성자의 ID
                    example: 1
                  nickname:
                    type: string
                    description: 댓글 작성자의 닉네임
                    example: 닉네임
                  email:
                    type: string
                    description: 댓글 작성자의 이메일
                    example: sea@heaven.com
              feed:
                type: object
                description: 댓글이 작성된 게시글 정보
                properties:
                  id:
                    type: integer
                    description: 댓글이 작성된 게시글의 ID
                    example: 1
                  title:
                    type: string
                    description: 댓글이 작성된 게시글의 제목
                    example: 게시글 제목
              comment:
                type: string
                description: 댓글 내용
                example: 댓글 내용
              is_private:
                type: boolean
                description: 댓글 공개 여부
                example: true
              children:
                type: array
                description: 대댓글 목록
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      description: 대댓글의 ID
                      example: 1
                    createdAt:
                      type: string
                      description: 대댓글 작성 시간
                      example: '2021-08-01 00:00:00'
                    updatedAt:
                      type: string
                      description: 대댓글 수정 시간
                      example: '2021-08-01 00:00:00'
                    deletedAt:
                      oneOf:
                        - type: string
                          description: 댓글 삭제 시간
                          example: '2021-08-02 00:00:00'
                        - type: null
                          example: null
                    user:
                      type: object
                      description: 대댓글 작성자 정보
                      properties:
                        id:
                          type: integer
                          description: 대댓글 작성자의 ID
                          example: 1
                        nickname:
                          type: string
                          description: 대댓글 작성자의 닉네임
                          example: 닉네임
                        email:
                          type: string
                          description: 대댓글 작성자의 이메일
                          example: email@email.com
                    comment:
                      type: string
                      description: 대댓글 내용
                      example: 대댓글 내용
                    is_private:
                      type: boolean
                      description: 대댓글 공개 여부
                      example: true
                    children:
                      type: array
                      description: 대댓글의 대댓글 목록
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                            description: 대댓글의 대댓글의 ID
                            example: 1
                          createdAt:
                            type: string
                            description: 대댓글의 대댓글 작성 시간
                            example: '2021-08-01 00:00:00'
                          updatedAt:
                            type: string
                            description: 대댓글의 대댓글 수정 시간
                            example: '2021-08-01 00:00:00'
                          deletedAt:
                            oneOf:
                              - type: string
                                description: 댓글 삭제 시간
                                example: '2021-08-02 00:00:00'
                              - type: null
                                example: null
                          user:
                            type: object
                            description: 대댓글의 대댓글 작성자 정보
                            properties:
                              id:
                                type: integer
                                description: 대댓글의 대댓글 작성자의 ID
                                example: 1
                              nickname:
                                type: string
                                description: 대댓글의 대댓글 작성자의 닉네임
                                example: 닉네임
                              email:
                                type: string
                                description: 대댓글의 대댓글 작성자의 이메일
                                example: testemail@email.co.kr
  '/comments/{commentId}':
    delete:
      tags:
        - Comment
      summary: 댓글 삭제
      description: 댓글 삭제 API
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: commentId
          description: 댓글의 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments~1%7BcommentId%7D/components/schemas/SuccessDeleteComment'
        '401':
          description: Invalid token
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorInvalidTokenWithComment'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1comments/components/schemas/ErrorCommentNotFound'
    components:
      schemas:
        SuccessDeleteComment:
          type: object
          properties:
            message:
              type: string
              description: 댓글 삭제 성공시 메세지
              example: THIS_COMMENT_HAS_BEEN_SUCCESSFULLY_DELETED
  /categories:
    get:
      tags:
        - category
      summary: 카테고리 확인
      description: 현재 존재하는 카테고리 확인 API
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1categories/components/schemas/SuccessGetCategory'
    components:
      schemas:
        SuccessGetCategory:
          type: array
          description: 카테고리 목록
          items:
            type: object
            properties:
              id:
                type: integer
                description: 카테고리의 ID
              name:
                type: string
                description: 카테고리의 이름
          example:
            - id: 1
              name: 1 category
            - id: 2
              name: 2 category
            - id: 3
              name: 3 category
  /symbols:
    get:
      tags:
        - Symbol
      summary: 심볼 조회
      description: 심볼 조회 API
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols/components/schemas/SuccessGetSymbol'
    components:
      schemas:
        SuccessGetSymbol:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                description: 심볼 ID
              symbol:
                type: string
                description: 심볼 종류
          example:
            - id: 1
              symbol: like
            - id: 2
              symbol: I have this too
  '/symbols/{feedId}':
    post:
      tags:
        - Symbol
      summary: 심볼 추가 및 수정
      description: 리뷰를 보는 사용자가 각 게시글에 대하야 좋아요 등의 심볼을 추가 및 수정하는 API
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: feedId
          description: 피드 ID
          required: true
          schema:
            type: integer
      requestBody:
        description: 심볼 추가 및 수정
        required: true
        content:
          application/json:
            schema:
              $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/RequestAddAndUpdateSymbol'
      responses:
        '200':
          description: 심볼 수정 성공
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/RequestUpdateSymbol'
        '201':
          description: 심볼 추가 성공
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/RequestAddSymbol'
        '400':
          description: Bad Request (변경사항이 없을 때)
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorNotChanged'
        '403':
          description: 본인의 게시글에 공감을 추가할 때 (사용자의 게시글에는 공감을 추가할 수 없습니다.)
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorValidateAuthor'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorValidateFeed'
                  - $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorValidateSymbol'
                  - $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorDuplicateSymbol'
    get:
      tags:
        - Symbol
      summary: 게시글별 심볼 총 개수 조회
      description: 게시글별 심볼 총 개수 조회 API
      produces:
        - application/json
      parameters:
        - in: path
          name: feedId
          description: 피드 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 게시글별 심볼 총 개수 조회 성공
          content:
            application/json:
              schema:
                type: array
                description: 게시글의 심볼 목록별 총 개수
                items:
                  type: object
                  properties:
                    feedId:
                      type: integer
                      description: 피드 ID
                    symbolId:
                      type: integer
                      description: 심볼 ID
                    symbol:
                      type: string
                      description: 심볼 종류
                    count:
                      type: integer
                      description: 심볼 개수
                example:
                  - feedId: 4
                    symbolId: 2
                    symbol: I have this too
                    count: 2
                  - feedId: 4
                    symbolId: 1
                    symbol: like
                    count: 2
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorValidateFeed'
    delete:
      tags:
        - Symbol
      summary: 심볼 삭제
      description: 심볼 삭제 API
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: feedId
          description: 피드 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: 심볼 삭제 성공
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/SuccessDeleteSymbol'
        '401':
          description: 유효하지 않은 토큰
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorValidateToken'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1%7BfeedId%7D/components/schemas/ErrorValidateFeedSymbol'
    components:
      schemas:
        RequestAddAndUpdateSymbol:
          type: object
          properties:
            symbolId:
              type: integer
              description: 심볼 ID
          example:
            symbolId: 1
        RequestAddSymbol:
          type: object
          description: 심볼 추가 성공
          properties:
            message:
              type: string
              description: 심볼 추가 성공 메시지
              example: SYMBOL_ID_2_HAS_BEEN_ADDED_TO_THE_FEED_ID_4
            result:
              type: array
              description: 게시글의 심볼 목록별 총 개수
              items:
                type: object
                properties:
                  feedId:
                    type: integer
                    description: 피드 ID
                  symbolId:
                    type: integer
                    description: 심볼 ID
                  symbol:
                    type: string
                    description: 심볼 종류
                  count:
                    type: integer
                    description: 심볼 개수
              example:
                - feedId: 4
                  symbolId: 2
                  symbol: I have this too
                  count: 1
                - feedId: 4
                  symbolId: 1
                  symbol: like
                  count: 3
        RequestUpdateSymbol:
          type: object
          description: 심볼 수정 성공
          properties:
            message:
              type: string
              description: 심볼 변경 성공 메시지
              example: SYMBOL_ID_2_HAS_BEEN_UPDATED_TO_THE_FEED_ID_4
            result:
              type: array
              description: 게시글의 심볼 목록별 총 개수
              items:
                type: object
                properties:
                  feedId:
                    type: integer
                    description: 피드 ID
                  symbolId:
                    type: integer
                    description: 심볼 ID
                  symbol:
                    type: string
                    description: 심볼 종류
                  count:
                    type: integer
                    description: 심볼 개수
              example:
                - feedId: 4
                  symbolId: 2
                  symbol: I have this too
                  count: 2
                - feedId: 4
                  symbolId: 1
                  symbol: like
                  count: 2
        ErrorValidateFeed:
          type: object
          properties:
            message:
              type: string
              description: '게시물이 존재하지 않거나 삭제되었거나, 유효하지 않을 경우'
              example: INVALID_FEED
        ErrorValidateAuthor:
          type: object
          properties:
            message:
              type: string
              description: '공감 수정시, 원 공감 작성자가 아닐 경우'
              example: THE_AUTHOR_OF_THE_POST_CANNOT_EMPATHIZE
        ErrorValidateSymbol:
          type: object
          properties:
            message:
              type: string
              description: 심볼이 존재하지 않을 경우
              example: INVALID_SYMBOL
        ErrorNotChanged:
          type: object
          properties:
            message:
              type: string
              description: 심볼이 변경되지 않았을 경우
              example: NOT_CHANGED_FEED_SYMBOL
        ErrorDuplicateSymbol:
          type: object
          properties:
            message:
              type: string
              description: NOT_CHANGED 에러와 별개로 공감이 DB에 중복 추가되었을 경우
              example: DUPLICATE_FEED_SYMBOL
        SuccessDeleteSymbol:
          type: object
          properties:
            message:
              type: string
              description: 심볼 삭제 성공 메시지
              example: SYMBOL_REMOVED_FROM_4_FEED
            result:
              type: array
              description: '심볼 삭제 후, 현재 게시글의 심볼 목록별 총 개수'
              items:
                type: object
                properties:
                  feedId:
                    type: integer
                    description: 피드 ID
                  symbolId:
                    type: integer
                    description: 심볼 ID
                  symbol:
                    type: string
                    description: 심볼 종류
                  count:
                    type: integer
                    description: 심볼 개수
              example:
                - feedId: 4
                  symbolId: 2
                  symbol: I have this too
                  count: 1
                - feedId: 4
                  symbolId: 1
                  symbol: like
                  count: 3
        ErrorValidateFeedSymbol:
          type: object
          properties:
            message:
              type: string
              description: '삭제하려는 게시글별 공감이 존재하지 않거나, 유효하지 않을 경우'
              example: FEED_SYMBOL_NOT_FOUND
        ErrorValidateToken:
          type: object
          properties:
            message:
              type: string
              description: 토큰이 유효하지 않을 때 반환되는 에러 메시지
              example: INVALID_TOKEN
  '/symbols/check/{feedId}':
    get:
      tags:
        - Symbol
      summary: 심볼 여부 조회
      description: 게시글에 대한 현재 로그인 사용자의 심볼 여부를 조회하는 API
      produces:
        - application/json
      parameters:
        - in: path
          name: feedId
          description: 피드 ID
          required: true
          schema:
            type: integer
      security:
        - BearerAuth: []
      responses:
        '200':
          description: 심볼 조회 성공
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1check~1%7BfeedId%7D/components/schemas/ResponseCheckSymbol'
        '401':
          description: 유효하지 않은 토큰
          content:
            application/json:
              schema:
                $ref: '#/paths/~1symbols~1check~1%7BfeedId%7D/components/schemas/ErrorValidateToken'
    components:
      schemas:
        ResponseCheckSymbol:
          type: object
          properties:
            checkValue:
              type: string
              description: 심볼 체크 여부 (true or false)
              example: true
            result:
              type: object
              description: 사용자의 게시글에 대한 심볼 정보
              properties:
                symbolId:
                  type: integer
                  description: 심볼 ID
                  example: 1
                created_at:
                  type: string
                  description: 심볼 생성 시간
                  example: '2023-03-14 02:19:55.969026'
                updated_at:
                  type: string
                  description: 심볼 수정 시간
                  example: '2023-03-14 02:19:55.969026'
                deleted_at:
                  type: string
                  description: 심볼 삭제 시간 (삭제되지 않은 경우 null)
                  example: null
                user:
                  type: number
                  description: 심볼을 추가한 사용자 ID
                  example: 1
                feed:
                  type: number
                  description: 심볼을 추가한 피드 ID
                  example: 1
                symbol:
                  type: number
                  description: 심볼 ID
                  example: 1
        ErrorValidateToken:
          type: object
          properties:
            message:
              type: string
              description: 토큰이 유효하지 않을 때 반환되는 에러 메시지
              example: INVALID_TOKEN
  /feeds/temp:
    get:
      tags:
        - TempFeed
      summary: 임시저장 목록 조회
      description: |
        사용자의 임시저장 목록을 모두 가져옵니다.  
        Authorization 헤더에 **Bearer 토큰**을 넣어주세요.  
        토큰의 사용자를 기준으로 임시저장 목록을 가져옵니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds~1temp/components/schemas/SuccessGetTempFeed'
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds~1temp/components/schemas/Error'
    post:
      tags:
        - TempFeed
      summary: 게시글 임시저장
      description: |
        게시글을 임시저장합니다.  
        Authorization 헤더에 **Bearer 토큰**을 넣어주세요.  
        토큰의 사용자를 작성자로 하여 게시글을 임시저장합니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        description: |
          게시글 임시저장시, 필요한 body 정보  
          모든 항목은 **required: false** 입니다.  
          하지만 **항목 중 하나 이상의 값을 반드시 입력**해야 합니다.  

          임시저장 게시글의 제목을 입력하지 않으면 getTempFeed API에서는 최종 자동저장 시간으로 대체됩니다.
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                categoryId:
                  type: integer | null
                  description: 카테고리 ID
                  required: false
                title:
                  type: string
                  description: 게시글 제목
                  required: false
                content:
                  type: string | null
                  description: 게시글 내용
                  required: false
                fileLinks:
                  type: array | null
                  description: 게시글에 첨부할 이미지 또는 파일의 URL
                  required: false
                estimation:
                  type: integer | null
                  description: '리뷰 상품 또는 서비스에 대한 평점 ID (1-double like, 2-like, 3-dislike)'
                  required: false
                category:
                  type: number | null
                  description: 카테고리 ID
                  required: false
              example:
                categoryId: 1
                title: 게시글 제목
                content: 게시글 내용
                fileLinks:
                  - 'https://image.com/image.jpeg'
                  - 'https://image2.com/docu.pdf'
                estimation: 1
                category: 1
      responses:
        '201':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: 임시저장 게시글 생성 성공 메시지
                    example: create temporary feed success
                  result:
                    type: object
                    description: 임시저장 게시글 생성 결과
                    properties:
                      id:
                        type: integer
                        description: 임시저장 게시글의 ID
                        example: 1
                      created_at:
                        type: string
                        description: 임시저장 게시글 생성 시간
                        example: 2023-03-20T21:13:06.972Z
                      updated_at:
                        type: string
                        description: 임시저장 게시글 수정 시간
                        example: 2023-03-20T21:13:06.972Z
                      user:
                        type: object
                        description: 임시저장 게시글 작성자의 정보
                        properties:
                          id:
                            type: integer
                            description: 사용자 ID
                            example: 1
                          created_at:
                            type: string
                            description: 사용자 정보 생성 시간
                            example: 2023-03-20T21:13:06.972Z
                          updated_at:
                            type: string
                            description: 사용자 정보 수정 시간
                            example: 2023-03-20T21:13:06.972Z
                          deleted_at:
                            type: string | null
                            description: 사용자 정보 삭제 시간
                            example: null
                          nickname:
                            type: string
                            description: 사용자 닉네임
                            example: nickname
                          email:
                            type: string
                            description: 사용자 이메일
                            example: test@gmail.com
                      title:
                        type: string | null
                        description: 임시저장 게시글 제목
                        example: null
                      content:
                        type: string | null
                        description: 임시저장 게시글 내용
                        example: 이 상품은 정말 좋아요! 추천합니다. 그ㄹ던데
                      category:
                        type: number | null
                        description: 임시저장 게시글 카테고리 ID
                        example: 2
                      posted_at:
                        type: string | null
                        description: 임시저장 게시글 게시 시간
                        example: null
                      feedSymbol:
                        type: array
                        description: 게시글에 대한 다른 사용자들의 반응 정보 (임시저장 글은 빈 배열 반환)
                        example: []
                      uploadFiles:
                        type: array
                        description: 임시저장 게시글에 첨부된 이미지 또는 파일의 URL
                        items:
                          type: object
                          description: 임시저장 게시글에 첨부된 이미지 또는 파일에 대한 개별 정보
                          properties:
                            id:
                              type: integer
                              description: 첨부파일 ID
                            created_at:
                              type: string
                              description: 첨부파일 생성 시간
                            updated_at:
                              type: string
                              description: 첨부파일 수정 시간
                            deleted_at:
                              type: string | null
                              description: 첨부파일 삭제 시간
                            is_img:
                              type: boolean
                              description: '첨부파일의 형식이 ''이미지''인지에 대한 여부 (true: 이미지, false: 파일)'
                            file_link:
                              type: string
                              description: 첨부파일 URL
                          example:
                            - id: 1
                              created_at: 2023-03-20T21:13:06.972Z
                              updated_at: 2023-03-20T21:13:06.972Z
                              deleted_at: null
                              is_img: true
                              file_link: 'https://image.com/image.jpeg'
                            - id: 2
                              created_at: 2023-03-20T21:13:06.972Z
                              updated_at: 2023-03-20T21:13:06.972Z
                              deleted_at: null
                              is_img: false
                              file_link: 'https://image2.com/docu.pdf'
    patch:
      tags:
        - TempFeed
      summary: 임시저장 게시글 수정
      description: |
        임시저장 게시글을 수정하는 API입니다.  
        **자동저장**시 사용됩니다.  
        임시저장 게시글의 제목을 입력하지 않으면 getTempFeed API에서는 최종 자동저장 시간으로 대체됩니다.  
    components:
      schemas:
        SuccessGetTempFeed:
          type: array
          description: 임시저장 목록
          items:
            type: object
            properties:
              id:
                type: integer
                description: 임시저장 게시글의 ID
              categoryId:
                type: integer | null
                description: 카테고리 ID
              category:
                type: string | null
                description: 카테고리 이름
              userId:
                type: integer
                description: 사용자 ID
              userNickname:
                type: string
                description: 사용자 닉네임
              title:
                type: string
                description: 게시글 제목 (임시저장시 제목을 입력하지 않으면 최종 임시저장 datetime으로 대체)
              content:
                type: string | null
                description: 게시글 내용
              imgUrl:
                type: string | null
                description: 게시글 이미지 URL
              viewCnt:
                type: integer
                description: 조회 수 (임시저장글의 경우 조회수는 모두 0입니다.)
              commentCnt:
                type: integer
                description: 댓글 수
              likeCnt:
                type: integer
                description: 좋아요 수
              createdAt:
                type: string
                description: 게시글 작성 시간
              updatedAt:
                type: string
                description: 게시글 수정 시간
              postedAt:
                type: string | null
                description: 게시글 게시 시간
              statusId:
                type: integer
                description: '게시글 상태 ID  - 1: 게시, 2: 임시저장'
            example:
              - id: 1
                categoryId: null
                category: null
                userId: 1
                userNickname: 닉네임1
                title: 게시글 제목
                content: null
                imgUrl: 'https://image.com'
                viewCnt: 0
                commentCnt: 0
                likeCnt: 0
                createdAt: '2021-07-01 00:00:00'
                updatedAt: '2021-07-01 00:00:00'
                postedAt: null
                statusId: 2
              - id: 2
                categoryId: 2
                category: 카테고리2
                userId: 1
                userNickname: 닉네임1
                title: null
                content: 게시글 내용
                imgUrl: null
                viewCnt: 0
                commentCnt: 0
                likeCnt: 0
                createdAt: '2021-07-01 00:00:00'
                updatedAt: '2021-07-01 00:00:00'
                postedAt: null
                statusId: 2
        Error:
          type: object
          description: 에러 응답
          properties:
            message:
              type: string
              description: 에러 메시지
              example: Internal Server Error
  /feeds:
    get:
      tags:
        - Feed
      summary: 게시글 목록 가져오기
      description: |
        게시글 목록을 가져옵니다.
      produces:
        - application/json
      parameters:
        - in: query
          name: categoryId
          description: 카테고리 (query가 없으면 전체 카테고리가 반환됩니다.)
          required: false
          schema:
            type: string
        - in: query
          name: page
          description: 페이지 번호 (query가 없으면 1페이지(첫페이지)가 반환됩니다.)
          required: false
          schema:
            type: integer
        - in: query
          name: limit
          description: 한 페이지에 보여줄 게시글 수 (query가 없거나 0으로 전달되면 **default 값 10**으로 처리되어 반환됩니다.)
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds/components/schemas/SuccessGetFeedList'
        '500':
          description: Internal Server Error
    post:
      tags:
        - Feed
      summary: 게시글 작성
      description: |
        게시글 작성 API입니다. 
        작성한 게시글을 등록합니다.  
        등록한 게시글은 postedAt에 등록일이 저장되며, statusId 값으로 1이 저장됩니다.  
        게시글 작성 시, 이미지 파일 및 일반 문서 파일을 첨부할 수 있습니다.
        **토큰을 반드시 필요로 합니다.**
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        $ref: '#/paths/~1feeds/components/requestBodies/RequestPostFeed'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds/components/schemas/SuccessPostFeed'
        '500':
          description: Internal Server Error
    patch:
      tags:
        - Feed
      summary: 게시글 수정
      description: |
        게시글 수정 API입니다. 
        작성한 게시글을 수정합니다.  
        수정한 게시글은 updatedAt에 수정일이 저장됩니다.  
        게시글 수정 시, 첨부된 파일을 교체할 수 있습니다.
        파일을 수정할 경우, 이전의 업로드된 파일은 AWS S3에서 삭제되며 따라서 이전 파일들의 url 역시 더 이상 유효하지 않습니다.  
        **토큰을 반드시 필요로 합니다.**
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        $ref: '#/paths/~1feeds/components/requestBodies/RequestPostFeed'
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds/components/schemas/SuccessPostFeed'
        '500':
          description: Internal Server Error
    components:
      requestBodies:
        RequestPostFeed:
          required: true
          content:
            application/json:
              schema:
                type: object
                properties:
                  title:
                    type: string
                    description: 게시글 제목
                    required: true
                  content:
                    type: string
                    description: 게시글 내용
                    required: true
                  estimation:
                    type: integer
                    description: 게시글 주제에 대한 작성자의 평가 아이콘 ID
                    required: true
                  category:
                    type: integer
                    description: 게시글 카테고리 ID
                    required: true
                  fileLinks:
                    type: array
                    description: 게시글에 첨부할 파일의 url
                    required: false
                    items:
                      type: string
                example:
                  title: 게시글 제목
                  content: 게시글 내용
                  estimation: 1
                  category: 1
                  fileLinks:
                    - 'https://s3.ap-northeast-2.amazonaws.com/woowahan-crews/1616580000000_1.png'
                    - 'https://s3.ap-northeast-2.amazonaws.com/woowahan-crews/1616580000000_2.png'
      schemas:
        SuccessGetFeedList:
          type: object
          properties:
            id:
              type: integer
              description: 게시글 id
            categoryId:
              type: string
              description: 카테고리 id
            category:
              type: string
              description: 카테고리 이름
            userId:
              type: integer
              description: 유저 id
            userNickname:
              type: string
              description: 유저 닉네임
            title:
              type: string
              description: 게시글 제목
            content:
              type: string
              description: 게시글 내용
            imgUrl:
              type: string
              description: 게시글 대표 이미지의 url
            viewCnt:
              type: integer
              description: 조회수
            commentCnt:
              type: integer
              description: 댓글수
            likeCnt:
              type: integer
              description: 좋아요수
            filesCnt:
              type: integer
              description: 첨부파일수 (이미지 파일은 제외됩니다.)
            imgCnt:
              type: integer
              description: 이미지 파일수
            createdAt:
              type: string
              description: 게시글 생성일
            updatedAt:
              type: string
              description: 게시글 수정일
            postedAt:
              type: string
              description: 게시글 게시일
            deletedAt:
              type: string
              description: 게시글 삭제일
            statusId:
              type: integer
              description: 게시글 상태 id
          example:
            - id: 1
              categoryId: 1
              category: 자유
              userId: 1
              userNickname: inchan
              title: 첫번째 게시글
              content: 첫번째 게시글 내용
              imgUrl: 'https://i.imgur.com/1j2j3j4.jpg'
              viewCnt: 0
              commentCnt: 0
              likeCnt: 0
              filesCnt: 0
              imgCnt: 1
              createdAt: '2021-07-01 00:00:00'
              updatedAt: '2021-07-01 00:00:00'
              postedAt: '2021-07-01 00:00:00'
              deletedAt: null
              statusId: 1
            - id: 2
              categoryId: 2
              category: 질문
              userId: 1
              userNickname: inchan
              title: 두번째 게시글
              content: 두번째 게시글 내용
              imgUrl: 'https://i.imgur.com/1j2j3j4.jpg'
              viewCnt: 200
              commentCnt: 0
              likeCnt: 3
              filesCnt: 1
              imgCnt: 2
              createdAt: '2021-07-01 00:00:00'
              updatedAt: '2021-07-01 00:00:00'
              postedAt: '2021-07-01 00:00:00'
              deletedAt: null
              statusId: 1
        SuccessPostFeed:
          type: object
          properties:
            message:
              type: string
              description: 성공 메시지
              example: create feed success
            result:
              type: object
              properties:
                id:
                  type: integer
                  description: 게시글 id
                created_at:
                  type: string
                  description: 게시글 생성일
                updated_at:
                  type: string
                  description: 게시글 수정일
                user:
                  type: object
                  description: 게시글 작성자 정보
                  properties:
                    id:
                      type: integer
                      description: 유저 id
                    nickname:
                      type: string
                      description: 유저 닉네임
                title:
                  type: string
                  description: 게시글 제목
                content:
                  type: string
                  description: 게시글 내용
                viewCnt:
                  type: integer
                  description: 조회수
                estimation:
                  type: object
                  properties:
                    id:
                      type: integer
                      description: 게시글 주제에 대한 작성자의 평가 아이콘 ID
                    estimation:
                      type: integer
                      description: 게시글 주제에 대한 작성자의 평가 아이콘 ID
                category:
                  type: object
                  properties:
                    id:
                      type: integer
                      description: 게시글 카테고리 ID
                    category:
                      type: string
                      description: 게시글 카테고리 이름
                status:
                  type: object
                  properties:
                    id:
                      type: integer
                      description: 게시글 상태 id
                    status:
                      type: string
                      description: 게시글 상태
                posted_at:
                  type: string
                  description: 게시글 게시일
                uploadFiles:
                  type: object
                  description: 게시글에 첨부한 파일의 url
                  properties:
                    id:
                      type: integer
                      description: 첨부파일 id
                    is_img:
                      type: boolean
                      description: 첨부파일의 종류가 이미지인지에 대한 여부
                    file_link:
                      type: string
                      description: 파일의 url
              example:
                id: 1
                created_at: '2021-07-01 00:00:00'
                updated_at: '2021-07-01 00:00:00'
                user:
                  id: 1
                  nickname: inchan
                title: 첫번째 게시글
                content: 첫번째 게시글 내용
                viewCnt: 0
                estimation:
                  id: 1
                  estimation: 1
                category:
                  id: 1
                  category: 자유
                status:
                  id: 1
                  status: 게시
                posted_at: '2021-07-01 00:00:00'
                uploadFiles:
                  - id: 1
                    is_img: true
                    file_link: 'https://i.imgur.com/1j2j3j4.jpg'
                  - id: 2
                    is_img: false
                    file_link: 'https://i.imgur.com/1j2j3j4.pdf'
  '/feeds/{feedId}':
    get:
      tags:
        - Feed
      summary: 게시글 및 임시저장글 가져오기 (피드 상세보기)
      description: |
        feedId값의 게시글을 가져옵니다.  
        토큰은 필수가 아닙니다.  

        임시저장 게시글의 경우,  
        Authorization 헤더에 **Bearer 토큰**을 넣어주세요.    
        임시저장 게시글은 기본적으로 게시되지 않은 비공개글이기에 토큰 사용자와 게시글 작성자가 일치해야 합니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: feedId
          description: 게시글 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds~1%7BfeedId%7D/components/schemas/SuccessGetFeed'
        '404':
          description: Not Found
        '500':
          description: Internal Server Error
    delete:
      tags:
        - Feed
      summary: 게시글 삭제
      description: |
        feedId값의 게시글을 삭제합니다.  
        토큰은 필수입니다.  
        토큰 사용자와 게시글 작성자가 일치해야 합니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: feedId
          description: 게시글 ID
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: success message
                    example: delete feed success
        '403':
          description: 게시물 작성자와 토큰 사용자가 일치하지 않을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: error message
                    example: ONLY_THE_AUTHOR_CAN_DELETE
        '404':
          description: 삭제하고자 하는 게시물이 없을 때
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: error message
                    example: NOT_FOUND_FEED
        '500':
          description: Internal Server Error
    components:
      schemas:
        SuccessGetFeed:
          type: object
          properties:
            message:
              type: string
              description: success message
              example: check feed success
            result:
              type: object
              properties:
                feedId:
                  type: integer
                  description: 게시글 ID
                  example: 1
                created_at:
                  type: string
                  description: 게시글 생성 시간
                  example: 2021-05-01T00:00:00.000Z
                updated_at:
                  type: string
                  description: 게시글 수정 시간
                  example: 2021-05-01T00:00:00.000Z
                user:
                  type: object
                  properties:
                    userId:
                      type: integer
                      description: 유저 ID
                      example: 1
                    nickname:
                      type: string
                      description: 유저 닉네임
                      example: inchan
                title:
                  type: string
                  description: 게시글 제목
                  example: 게시글 제목입니다.
                content:
                  type: string
                  description: 게시글 내용
                  example: 게시글 내용입니다.
                viewCnt:
                  type: integer
                  description: 게시글 조회수
                  example: 1
                estimation:
                  type: object
                  desctiption: 작성자가 리뷰를 하며 평가한 정보
                  properties:
                    id:
                      type: integer
                      description: 평가 ID
                      example: 1
                    estimation:
                      type: string
                      description: 평가 종류
                      example: like
                category:
                  type: object
                  description: 게시글 카테고리
                  properties:
                    id:
                      type: integer
                      description: 카테고리 ID
                      example: 1
                    category:
                      type: string
                      description: 카테고리 이름
                      example: 카테고리 이름
                status:
                  type: object
                  description: 게시글 상태
                  properties:
                    id:
                      type: integer
                      description: 상태 ID
                      example: 1
                    is_status:
                      type: string
                      description: '상태 이름 (published, temporary, deleted)'
                      example: published
                posted_at:
                  type: string
                  description: 게시글 게시 시간
                  example: 2021-05-01T00:00:00.000Z
                uploadFiles:
                  type: object
                  description: 게시글에 업로드된 파일
                  properties:
                    id:
                      type: integer
                      description: 파일 ID
                      example: 1
                    is_img:
                      type: boolean
                      description: 이미지 여부
                      example: true
                    file_link:
                      type: string
                      description: 파일 URL
                      example: 'https://s3.ap-northeast-2.amazonaws.com/project-review-bucket/1620000000000.png'
  /feeds/estimations:
    get:
      tags:
        - Feed
      summary: 리뷰 평가 아이콘 ID 조회
      description: 리뷰 평가 아이콘 ID 조회
      produces:
        - application/json
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/paths/~1feeds~1estimations/components/schemas/SuccessGetEstimations'
        '500':
          description: Internal Server Error
    components:
      schemas:
        SuccessGetEstimations:
          type: object
          properties:
            id:
              type: integer
              description: 평가 아이콘 ID
            estimation:
              type: string
              description: 평가 아이콘
          example:
            - id: 1
              estimation: double like
            - id: 2
              estimation: like
            - id: 3
              estimation: dislike
  /upload:
    post:
      tags:
        - upload
      summary: file upload (multiple)
      description: |
        게시글 작성에 앞서 이미지 및 문서 파일을 업로드할 때 사용할 수 있습니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        required: true
        description: |
          파일 업로드 저장시, 필요한 body 정보입니다.    
          한번에 하나 또는 여러 개의 파일을 업로드 할 수 있습니다.  

          파일은 **한번의 API 요청으로 5개까지** 업로드할 수 있습니다.  
          파일의 크기는 개당 **5MB**까지 업로드할 수 있습니다.    

          이미지의 경우 업로드시,  
          width가 1920px 이상일 경우, 1920px로 비율 리사이징하여 업로드합니다.
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: array
                  items:
                    type: string
                    format: binary
      responses:
        '200':
          description: Files uploaded successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  file_link:
                    type: array
                    items:
                      type: string
                      example:
                        - 'https://s3.ap-northeast-2.amazonaws.com/project-review-bucket/1620000000000.jpeg'
                        - 'https://s3.ap-northeast-2.amazonaws.com/project-review-bucket/1620000000001.pdf'
        '400':
          description: 유효하지 않은 사용자입니다. (탈퇴한 사용자 등)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: INVALID_USER
        '500':
          description: Internal Server Error (Schema에서 종류 확인!)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    oneOf:
                      - type: string
                        example: Internal Server Error
                      - type: string
                        example: file too large
                      - type: string
                        example: 'UPLOAD_FILE_FAIL: 에러메세지'
    delete:
      tags:
        - upload
      summary: file delete
      description: |
        업로드한 파일을 삭제합니다.
      produces:
        - application/json
      security:
        - BearerAuth: []
      requestBody:
        required: true
        description: |
          파일 삭제시, 필요한 body 정보입니다.    
          한번에 하나 또는 여러 개의 파일을 삭제할 수 있습니다.
        content:
          application/json:
            schema:
              type: object
              properties:
                file_link:
                  type: array
                  items:
                    type: string
                    example:
                      - 'https://s3.ap-northeast-2.amazonaws.com/project-review-bucket/1620000000000.jpeg'
                      - 'https://s3.ap-northeast-2.amazonaws.com/project-review-bucket/1620000000001.pdf'
      responses:
        '204':
          description: Files deleted successfully (No Content)
        '400':
          description: 유효하지 않은 사용자입니다. (탈퇴한 사용자 등)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: INVALID_USER
        '403':
          description: 지우려는 파일의 사용자와 다른 사용자입니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: DELETE_UPLOADED_FILE_IS_NOT_YOURS
        '404':
          description: 지우려는 파일이 존재하지 않습니다.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    oneOf:
                      - type: string
                        description: 파일이 S3에 존재하지 않습니다.
                        example: 'DELETE_UPLOADED_FILE_IS_NOT_EXISTS: ${err}'
                      - type: string
                        description: 파일이 존재하지 않습니다.
                        example: NOT_FOUND_UPLOAD_FILE
        '500':
          description: Internal Server Error (Schema에서 종류 확인!)
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    oneOf:
                      - type: string
                        example: Internal Server Error
                      - type: string
                        description: 파일이 S3에 존재하지 않습니다.
                        example: 'DELETE_UPLOADED_FILE_IS_NOT_EXISTS: ${err}'
                      - type: string
                        description: S3에 파일 삭제 명령에 실패했습니다.
                        example: 'AWS_SEND_COMMAND_FILE_FAIL: ${err}'
